# 账号风控与安全策略 (Risk Control Strategy)

本文档旨在分析和规避在使用自动化工具（RPA）发布内容时可能面临的账号封禁风险。

## 1. 核心原则：模拟真人 (Act Like a Human)

平台风控的核心逻辑是区分“真人操作”与“机器脚本”。我们的所有策略都应围绕**“让脚本看起来像个真人”**展开。

### 1.1 频率控制 (Frequency)
用户提问：*“一天一发或者一小时一发，风险会减小吗？”*

*   **结论：** 是的，低频发布绝对比高频发布安全，但频率不是唯一维度。
*   **推荐策略：**
    *   **冷启动期（前1-2周）：** 每天 1-2 条。模拟新手的热情，但不要过度。
    *   **稳定期：** 每天 3-5 条。这是大多数全职博主的极限。
    *   **高危行为：** 
        *   24小时不间断发布（人类需要睡觉）。
        *   每隔精准的 60 分钟发布一次（人类没有这么准时的生物钟）。
    *   **技术实现：**
        *   在代码中引入 `random` 随机延迟。例如，计划每小时发一次，实际执行时间应为 `base_time + random(-15min, +15min)`。
        *   设置“睡眠时间”，例如凌晨 2:00 - 7:00 脚本强制休眠。

### 1.2 行为特征 (Behavior Pattern)
*   **鼠标轨迹：** 
    *   Playwright 默认的点击是瞬间移动到坐标点，这是典型的机器特征。
    *   **对策：** 使用模拟鼠标滑动的库（如 `ghost-cursor` 或自定义贝塞尔曲线移动算法），在点击前先移动鼠标，并伴随随机的停顿。
*   **浏览习惯：**
    *   真人发布前通常会刷一刷首页、点个赞、看个通知。
    *   **对策：** 在“发布”动作之前，随机插入一段“养号”逻辑（随机滚动页面、随机点击一个不相关的帖子停留几秒）。

## 2. 环境隔离 (Environment Isolation)

如果未来扩展到多账号运营，环境隔离是重中之重。

### 2.1 浏览器指纹 (Fingerprinting)
平台会通过 Canvas、WebGL、AudioContext、字体列表等 API 获取浏览器指纹。如果多个账号在同一个指纹环境下登录，会被判定为“关联账号”（同号主），一旦一个号违规，可能连坐。

*   **对策：**
    *   **Phase 1 (MVP):** 使用 Playwright 的 `launch_persistent_context`，为每个账号指定独立的 `user_data_dir`。这能隔离 Cookies 和 LocalStorage，但无法完全隔离硬件指纹。
    *   **Phase 3 (SaaS):** 必须引入指纹浏览器技术（如指纹掩盖插件或专门的指纹浏览器内核），确保每个账号看起来是在不同的电脑上。

### 2.2 IP 地址
*   **风险：** 同一个 IP 下登录超过 5-10 个账号，且都有发布行为，极易被判定为营销号工作室。
*   **对策：**
    *   **家用宽带：** 通常是动态 IP，重启路由器会变，相对安全，适合 1-3 个账号。
    *   **商业代理：** 多账号必须购买住宅代理 IP（Residential Proxy），保证每个账号对应固定的 IP 归属地。

## 3. 内容风控 (Content Quality)

即使操作行为完全像人，如果发布的内容被算法判定为“垃圾广告”或“AI 生成的劣质内容”，依然会被限流。

*   **去重 (De-duplication):** 
    *   不要直接搬运他人的图片。
    *   AI 生成的图片通常带有元数据（Metadata），建议在发布前使用工具清除 Exif 信息，并进行轻微的像素级干扰（如添加极低透明度的噪点）。
*   **文案：**
    *   避免使用明显的 AI 腔调（如“首先...其次...综上所述”）。
    *   在 Prompt 中要求 AI 使用口语化、表情包丰富的风格（小红书风）。

## 4. 总结与执行建议

对于当前的 **Phase 1 (MVP)** 阶段，我们主要关注以下几点即可：

1.  **低频发布：** 每天不超过 3 条。
2.  **随机间隔：** 每次发布间隔增加随机扰动。
3.  **Cookie 持久化：** 避免每次运行脚本都重新扫码登录（频繁登录也是异常行为）。
